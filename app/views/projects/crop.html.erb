<script src="https://ajax.googleapis.com/ajax/libs/prototype/1.7.0.0/prototype.js" type="text/javascript"></script>

	<script src="https://ajax.googleapis.com/ajax/libs/scriptaculous/1.9.0/scriptaculous.js" type="text/javascript"></script>
	<%= javascript_include_tag "jsCropperUI-1.2.2/cropper/cropper.js" %>
	


	<script type="text/javascript" charset="utf-8">

		// setup the callback function

		function onEndCrop( coords, dimensions ) {

			$( 'x1' ).value = coords.x1;

			$( 'y1' ).value = coords.y1;

			$( 'x2' ).value = coords.x2;

			$( 'y2' ).value = coords.y2;

			$( 'width' ).value = dimensions.width;

			$( 'height' ).value = dimensions.height;

		}

		

		// basic example

		Event.observe( 

			window, 

			'load', 

			function() { 

				new Cropper.Img( 

					'testImage',

					{
						minWidth: 248, 
						minHeight: 162,
						maxWidth: 248,
						maxHeight: 162,
						displayOnInit: true, 
						onEndCrop: onEndCrop 
						

					}

				);

			}

		);

	</script>
	
	<h2>Basic cropper test</h2>

	<p>

		Some test content before the image

	</p>

	

	<div id="testWrap">
		<%= image_tag @project.project_image.url, :id => "testImage" %>
		

	</div>

	

	<%= form_for @project, :url => {:action => 'update'} do |f|%>
	
   <%= f.text_field :x1, :name => 'x1', :id=> 'x1' %>
    <%= f.text_field :y1, :name => 'y1', :id => 'y1' %>
	 <%= f.text_field :x2, :name => 'x2', :id => 'x2' %>
	  <%= f.text_field :y2, :name => 'y2', :id => 'y2' %>
	   <%= f.text_field :height, :name => 'height', :id => 'height' %>
	    <%= f.text_field :width, :name => 'width', :id => 'width' %>
 
  <p><%= f.submit "Update" %></p>
<% end %>

	
